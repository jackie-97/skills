本文档主要写一个 cocos 的项目开发计划

教程

- awesome 系列：有很多成品
  - [Leo501/awesome-CocosCreator: Cocos Creator 游戏资源合集 (github.com)](https://github.com/Leo501/awesome-CocosCreator?tab=readme-ov-file)

- 求职

  - [Unity岗位外包化，外包和小厂比去哪个？_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1eu4m1T7KL/?spm_id_from=333.788&vd_source=522153461914a766fc002cc8619314e4)




## 待问问题

cocos写项目 2d多，还是3d多？

- 3d必学

#### 知识盲区

- [ ] 对象池
- [ ] 接入广告
- [ ] 首屏
- [ ] 打包到各个平台
- [ ] 管线
- [ ] 网络编程
- [ ] 3d



## 关注点

近期计划

- [ ] 编写简历，试一下市场，你不试一下，就不知道市场是怎样的，脱离市场一定死！
- [ ] 完成3个项目，并且提高完成度，总结项目亮点
- [ ] 完成整个项目打包流程



项目计划

- [x] 飞机大战
  - [CocosCreator3.8 入门教程-微信飞机大战 ｜ 微信小游戏 ｜ 2D 游戏开发 ｜ 游戏制作 ｜ 独立游戏开发 ｜ cocos ｜ 游戏引擎 ｜ typescript ｜ ts\_哔哩哔哩\_bilibili](https://www.bilibili.com/video/BV1csHseJETT/?spm_id_from = 333.788.recommend_more_video.1&vd_source = 522153461914a766fc002cc8619314e4)
  - [两天入门cocos开发飞机大作战使用 Cocos Creator 3.x 制作一个简单的飞机大作战游戏。通过这个实践，将 - 掘金 (juejin.cn)](https://juejin.cn/post/7282605849708986403?searchId=20240921121317BF5C7EDB2E923EE525AE#heading-16)
- [ ] 贪吃蛇https://www.bycwedu.com/customize_video/314344774/1841007415/1219583649?back=1&promoter_id=1633817265
- [x] 消消乐：[cocos 实现消消乐小游戏上一篇学习了两天入门 cocos 开发飞机大作战，接下来进阶实现一个消消乐游戏，相比飞机大作战来说 - 掘金 (juejin.cn)](https://juejin.cn/post/7289718324857716793#heading-42)
- [ ] 2d跳跃游戏：超级马里奥
- [ ] 2d rpg游戏
  - [ ] 死亡空间：[[Cocos Creator 游戏开发教学\]Steam 游戏《Cramped Room Of Death》复刻教程（已完结）\_哔哩哔哩 bilibili](https://www.bilibili.com/video/BV1JL4y1M7Y4/?spm_id_from = 333.337.search-card.all.click&vd_source = 522153461914a766fc002cc8619314e4)
- [ ] 飞行棋：https://www.bilibili.com/video/BV1Exsue5EqC?p=5&vd_source=522153461914a766fc002cc8619314e4
- [ ] 黄金矿工https://www.bycwedu.com/customize_video/375844032/1841007415/1219583649?back=1&promoter_id=1633817265
- [ ] 坦克大战https://www.bycwedu.com/customize_video/1521261081/1841007415/1219583649?back=1&promoter_id=1633817265
- [ ] 
- [ ] 切水果
- [ ] 植物大战僵尸
- [ ] 山地越野
- [ ] 愤怒的小鸟
- [ ] 超级玛丽
- [ ] 冰与火游戏
- [ ] 黑洞大作战
- [ ] 合成西瓜
- [ ] 魂斗罗
- [ ] 跑酷
- [ ] 塔防游戏：https://www.bycwedu.com/customize_video/857302257/1841007415/1219583649?back=1&promoter_id=1633817265
- [ ] 城市天际线
- [ ] 
- [ ] 胡闹厨房
- [ ] 火柴人大战
- [ ] cocos 插件：补一个白色的，傻逼玩意

  - 定价 10 块、15
- [ ] 2d跳跃类游戏
  - [Ava_Xiang的个人空间-Ava_Xiang个人主页-哔哩哔哩视频 (bilibili.com)](https://space.bilibili.com/38233643/channel/collectiondetail?sid=259060)
- [ ] 2d射击



## 技巧

开发步骤

- 前置操作
  - 导入素材，制作场景
  - 制作地图
- 后置操作
  - 添加音效
  - 添加loading
  - tian'jia


通过观察线上项目，发现值得模仿的一些效果

- 动画或粒子效果：[MATCH ARENA - 免费在线玩! | Poki (宝玩)](https://poki.com/zh/g/match-arena)

  - 宝箱、字体放大、缩小动画
  - 🎉特效
  - 有水波的头像

- 操作引导、提示

- 玩法

  - 比如要收集多少个星星、或者是消灭多少方块
  - 引入关卡、道具

- 音效、触感

- 

  

多看看别人的线上的项目

有些鼠标的左侧可以完成前进后退功能

少建节点，少建脚本，多合并

- 

不要乱聚焦

- 一般是聚焦一个摄像头之后，就不按f咯



## 编辑器

值不会更新

- 把注解去掉，别开放出来就行了

怎样快速测量某个物体的尺寸啊？

- 笨：切换成1：1，然后用snipate按f1去测量

怎样获取某一点的坐标

- 画一个空节点，然后移动坐标就可以

怎样在不点进去编辑器的情况下，刷新浏览器资源

- 

控制台怎么停止打印

浏览器预览时怎么关闭报错弹窗？

- 

浏览器预览失败，总是有很神奇的事情发生

- 重启一下，可能是它判定网络失败了，所以直接

如何预览已经制作好的动画素材？

- 如何预览cocos 中的动画文件



## 调试

：调试很重要，决定了你的开发效率，比如你死死找不出问题跟一下子找到问题是两码事





## 项目打包

微信小游戏

- 先打包
- 用微信开发者工具打开
- 获取二维码

- 微信小游戏与微信小程序appid不是同一个东西，要多注册一个账号
  - 要么就拿测试号，然后拿到小程序的二维码

无法测试

- 

超出大小4Mb大小，如何解决

- 引擎功能裁剪
- 分包

分完包之后要自己手动导入到项目吗？还是它默认就是链接好的了？

- 它会自动分好包，不需要一个一个分包来打包
  - 除非你项目很大，打包时间太长了，所以

- 如果你摸不清整个流程怎么走，你可以直接搜别人的视频教程，几分钟告诉你
  - [Cocos Creator 3.x常见问题分析与优化04：微信小游戏包体超过4M如何处理_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1wW421c7Ba/?spm_id_from=333.337.search-card.all.click)

打包的时候会自动打包分包吗？还是要手动打包分包？

- 

是1次打包好各个平台的，还是只打包好1个？

- 

怎么算主包超了4MB？

- 通过看哪个文件夹？

asset bundle

- 简称ab包

分包对象是啥？常见的

- 某个大的图片文件夹
- 大的音频文件夹
- 大的场景
- 脚本文件夹，这个一般不用分包







## 素材制作

[Cocos2d-x 3.x plist+png 做动画 - blfshiye - 博客园 (cnblogs.com)](https://www.cnblogs.com/blfshiye/p/4797222.html)

- 然后可以根据名字来获取指定的图片



以项目类型进行总结



## 飞机大战

#### 游戏策划

- 主角通过发射炸弹击倒敌人

- 可以全屏幕的控制

- 地图随机生成奖品，通过接触来获取

  - 有大炮和全图炸弹

- 有计分

  

#### 计划

：6 天，于 9 月 11 号开始的，我要一鸣惊人

9 月 11 日：项目启动和环境搭建

- 阅读策划案，确保理解游戏设计和目标。
- 搭建开发环境，包括安装 Cocos Creator 和配置开发工具。
- 导入策划案中的所有游戏素材，包括图像、音效和音乐。
- 设计游戏的基本架构，包括游戏循环、得分系统、敌人生成逻辑等。
- 创建游戏的基本框架代码，包括初始化场景和配置。

9 月 12 日：核心游戏逻辑开发

- 开发飞机控制逻辑，实现移动、射击和加速功能。
- 实现敌人的生成逻辑，包括不同类型的敌人和行为模式。
- 实现子弹和敌人的碰撞检测，处理碰撞后的效果。
- 开发得分系统，包括击中敌人后的得分计算和显示。

9 月 13 日：游戏界面和用户界面开发

- 设计和实现游戏的用户界面（UI），包括得分板、生命值显示等。
- 开发游戏的开始界面、游戏界面和结束界面。
- 实现游戏的暂停和恢复功能。
- 添加游戏音效和背景音乐，确保它们与游戏事件同步。

9 月 14 日：游戏测试和优化

- 进行全面的游戏测试，包括功能测试、性能测试和用户体验测试。
- 记录并修复发现的问题，优化游戏性能。
- 调整游戏难度和平衡性，确保游戏的可玩性和挑战性。
- 准备游戏的发布版本，包括打包和压缩资源。

9 月 15 日：发布和后续工作

- 进行游戏的最终测试，确保没有遗漏的问题。
- 发布游戏到选定的平台，如应用商店或游戏网站。
- 监控玩家反馈，收集用户意见。
- 准备后续的更新计划，包括可能的新功能和修复补丁。
- 总结项目经验，记录成功点和需要改进的地方。





#### bug

- [x] 适配出现问题
  - 只需要配置适配宽高都开启即可

- [ ] 碰撞连续触发

  - 通过

- [ ] 地图轮播时出现黑色的留白
- [ ] 超出canvas的内容依旧显示，按道理应该是黑边的，是不显示的





#### 实施

我要多做减法，比如飞机他们除了 3 钟，那我就先做 1 种

明确目标，重整体，不重细节

- 不要再想昨天一样搞了半天的动画

每天晚上预留时间来修复 bug

- 而不是大白天就在弄

发现操作越来越变形了，不知道是不是因为自己不懂得休息的原因

- 注意力疯狂下降，瞎搞东西

写方法还是修改属性？

- 简单的就修改属性
- 复杂的，需要做额外的事情的，就写方法

时序的问题，可以考虑延迟操作

- 比如子弹碰撞到，马上销毁子弹会有冲突报错，那可以选择延迟销毁

游戏管理器

- 存放什么东西？

  - 游戏状态：比如游戏开始、暂停、游戏进度

  - 游戏设置：音乐、音效、难度

  - 玩家状态：血量、等级、昵称

- 如何创建节点？

  - 通过常驻节点
  - 根据预制体去克隆
    - 
  - 需要时动态创建节点，然后再导入场景
    - 这种比较麻烦，因为它是要从空节点开始建起，然后再塞入组件

实操与看教程不能脱节的太远，不然没法同步了

-

警告不碍事，错误则是一定要解决的

-

功能实现有多种方式

- 代码
- 拖拽

控制与显示分离的实现方式，以分数的控制、显示举例

- 控制：只负责数据的处理，不关心数据如何被显示
- 显示：只负责显示，不负责控制
- 分离方式
  - 回调
  - 事件机制
  - 观察者

- 具体分离方式
  - 控制、显示的分别一个脚本
  - 然后数据变化时，直接调用显示脚本的方法，比如updateUI
  - 

我不太理解怎么算耦合，怎么算分离了

- 我理解的分离就是定义与调用分离，A 处定义，但是由 B 处来调用

绑定方法

- 节点》组件》方法

暂停有几种实现方式

- cc.director.pause()：重量级，音乐、动画全停了
- cc.director.getScheduler().setTimeScale(0)：轻量，部分暂停
- 角色暂停
  - 把角色禁用：active 为 false
- 暂停页面或者是弹窗
  - 这样省事很多


渲染更新不仅仅依赖于 update 方法

- 其他也会触发渲染更新，比如触摸事件

不要老是想着全局禁用，比如全局禁用事件响应

- 你这样容易误杀，做不到精细控制

新页面是通过同一场景新建节点还是新建场景

- 简单场景：新建节点
- 复杂场景：新建一个场景

有些操作不是马上调用的

- 比如结算页面是需要在死亡动画播放完后才显示的

gameMgr 节点

- 每个场景都要一个吗？
  - 需要共享游戏数据：则是全局一个即可
- 怎样保证这个节点不会被销毁
  - 通过 node.persistent = true

声音分 2 种，音效与音频

- 音效：短时间播放的，如打击声
- 音频：则是长时间的，如 bgm

cocos 有些赋值不是通过代码来完成的，而是通过拖拽完成

- 比如音频的赋值

cocos 是怎么判断一个节点位置的？通过锚点还是左下角？

- 是锚点，锚点位置

编辑器怎么隐藏节点及其子节点？

- 名字旁边，有个勾号

如果设置二维世界坐标

为啥视角之外还能监听到我的触摸事件？

- 自己在代码里加点东西，比如坐标小于 0，或者是大于屏幕宽度 480，就直接返回了

为啥会我鼠标停留点跟角色位置有偏移？左下角准确，右上角偏移最大

- 是因为缩放的问题，如果是缩放为 100%就能准确

cocos 种 location 与 position 对象有啥区别，举例

- position 是跟 parent 有关的，是本地坐标系
- location 则是世界坐标系

子弹发射功能实现

- 创建节点
- 加到场景中
- 通过 update 移动
- 跑出屏幕外，则是销毁节点

有预制体就不需要在层级管理中创建节点了

- 而是通过动态创建节点的方式

要分清楚是要全局事件还是节点事件

- 比如我希望是按住角色才能移动，而不是任意都可以移动

一般的预制体克隆来生成节点，都是放在 gameManager

- 除非是由强关联的

敌机

- 敌机生成
- 碰撞检测
- 销毁与销毁动画
- 音效

敌机生成了看不见

- 可能是层级的问题，它层级在下面的，要比上面的优先级高
- 地图不能放到下面

一般是在指定父节点后在设置自己的 position

-

可以没有刚体，只有碰撞体，也可以只有刚体，没有碰撞体

- 前者没有重力，也不响应力
  - 但是 box2d 没有刚体，就无法开启碰撞监听
- 后者则是没有碰撞回调
- 刚体和碰撞体都有组的概念，都可以

刚体、碰撞体对比

- 刚体只负责物理行为
- 碰撞体自定义形状，负责碰撞的检测
- 刚体
  - 一般设置为碰的动的动态刚体
  - 碰不动的胖子则是设置为运动刚体
- 碰撞体
  - 如果碰撞双方其中一个不开启碰撞监听，还是可以发生碰撞的，
    - 只是不开启的那个没有碰撞监听

buildin 物理系统与 box2d 类型的物理系统区别

- 在 buildin 只有碰撞检测功能，刚体在 buildin 中无效
- 分组
  - 如果刚体与碰撞体分组不同，那么是听碰撞体分组的

为啥一开始动画就播放了？

- 我都没设置加载后直接播放

没法预览动画效果啊

- 双击居然让我选择应用程序

为啥碰撞检测失效了？

- 刚体没有开启碰撞检测
- 要么就是 group 搞错了

对于异步操作

- 你想要等操作完成后再执行一些动作，则是可以考虑用事件监听

那引用

- 可以是拖拽式
- 也可以通过静态方法，比如 gameMgr

记分方式

- 应该是在敌机销毁时，而不是由子弹来计分
-

组件可以依赖于另一个组件

- 被依赖的组件如何赋值？

多 canvas？

- 性能优化，减少重绘，
- 一个主，多个副，经常变动的放在副
-

分层？

- 方便控制上下显示
- 渲染层级：只勾选哪些，不勾选哪些。。。

变形工具为啥只能拖放位置

- label 组件需要设置溢出大小为 clamp 才能变形

- 带上 widget 组件

怎么去做方法调用？

- 通过触发事件
  - 在 gameMgr 上触发事件，在 scoreUI 上给 gameMgr 节点注册事件，绑定回调，指定 this
- 直接调用方法

空指针问题

- 编辑器可能是不小心改了文件名，然后没同步，这是你看一下脚本，看是否需要重新赋值
- this 指向问题，你需要给 this 只想为正确的值，不要遗漏了步骤
- 可能是你没给对应的属性赋值，比如你重置组件了，然后没给预制体赋值

角色、物品不显示的问题

- 层级错了，你要把它放在地图上层，也就是图层管理器的下面

图片的切换时怎么做的？开关应该是一个节点，而不是用2个节点，而且还分别绑定事件

- 比如暂停、继续的图片切换

死垃圾我不会记你的破快捷方式的

- 我宁愿一个一个点

获取节点的方式

- 通过find方法
  - 操作简单，
- 通过编辑器设置引用
  - 操作麻烦，又要写代码，又要控制编辑器

获取组件方式

- getComponent：常用
- getChildComponent：当前节点及其子节点上找，默认返回第一个

什么时候应该存组件引用，存节点引用

- 频繁操作一个节点时，要先存

拿到组件就可以调用方法了

- 你可以通过代码方式获取，也可以通过编辑器的方式存引用

actived与enabled区别

- actived是控制节点的
- enabled则是控制组件的

不要总是想着一步到位，比如直接拿到某个label组件

- 缺点：耦合度太高
- 要考虑一下解耦的问题，要拿父节点，方便解耦

控制指针的问题，如何定位

- 

vscode 怎么看是否

脚本编译报错

- cocos会提示脚本缺失

为啥修改了脚本的数据

- cocos编辑器却没有同步，修改数值不会同步，妈的一堆问题，只是显示问题
  - 运行的时候就会自动校正

提示实例化失败，为nil

- 一般是你编辑器没给引用赋值，导致克隆失败

什么时候需要持有动画组件的引用？

- 当这个组件对象不在这个节点身上时

为啥插件这逼玩意总是多给我生成一个花括号的？

- 

[PreviewInEditor] Cannot read property 'SetActive' of null

- 老是出现这个B问题，原来是刚体组件不能随意销毁，一般选择禁用

在player组件中直接调用ui更新，还是通过gameMgr的方式来调用？

- 简单的用前者
- 推荐后者

如何快速排版？

- 容器宽度如何自动根据内容适应
- 容器之间怎样保持不重叠？



事件绑定逻辑写在那里？

- 一般写在所属页面GameUI或者是GameMgr中

- 不建议单独搞一下，这样很麻烦



释放哪个技能

- 判断逻辑写在update中

为啥不显示元素？

- 超出父元素的依旧可以显示
- 

怎样保证碰撞体只触发1次回调

- 设置标志位
- 设置保留上一个碰撞组件对象，判断是不是同一个节点
  - 

- 调整碰撞体的结构减少碰撞点，这样不容多个同时触发
  - 




update方法

- 主要做什么

游戏状态一般分几种？

- 菜单menu
- 设置状态option
- 加载状态loading
- 游戏状态game
- 暂停pause
- 结算over
- 错误error
- 



按钮绑定事件

- 编辑器方式绑定：把业务逻辑写在页面，如gameUI，编辑器中指定方法
  - 适用于新手
- 代码方式绑定：通过on方法
  - 推荐，维护方便

事件绑定没反应啊

- 

事件冒泡失败

- 

哪些是需要在destory手动销毁的？

- 比如事件监听

默认值一般设置为0或者是为空即可

- 

怎么做好初始化？

- 比如初始化好玩家血量
- 靠面板设置的出现数据紊乱，还是要靠代码去做数据显示的同步

某些节点能否用自适应屏幕大小？

- 比如

屏幕的双击监听

- 应该通过input来监听，而不是通过node来监听

生命周期函数

- 除了start和update方法，其他都有on前缀

创建组件方式

- 编辑器
- 代码

音频管理器AudioMgr的作用

- 统一管理声音
- 性能优化

在静态方法中访问this

- 此时this表示的是类本身，而非实例

只提供get方法，你不能修改属性，也不能修改子属性

- 

音频组件

- 跟角色有关的：到角色、敌人身上
- bgm：放在gameMgr上
- 如果是自动播放的就不用通过audioMgr来播放
  - 比如敌人出现自动播放自己的bgm
- 其他都要通过audioMgr来播放
- 关键的声音
  - bgm
  - 拾取奖励
  - gameover
  - 按钮点击

动画不播放

- 在onLoad中调用
- 动画没有添加进去
- 时序问题，可能是马上调用了destory方法，导致动画来不及执行
  - 全局搜一下destory，然后移除即可



如何控制动画播放次数

- 我想播放2次动画

为啥用xxx.parent=scene，反而不显示？

- 因为多画布的原因，你可以用xxx.parent=this.node.parent

setPosion失效

- 可能是你当前节点有widget组件，这会导致setposition失效
  - 移除掉
- 在指定parent之前设置的
  - 调整后面去

事件注册&触发

- 实现方式
  - 通过节点，这种只能在同一个节点
  - 通过director，这种很方便，不用关心节点问题
    - 记得要在第三个参数传递合适的this

宽高的指向

- 竖屏游戏，短边为宽
- 横屏游戏，长边为宽

适配应该怎么做？

- 常见分辨率：720x1280

一张图片如何不能完全沾满图片确实会有黑边

- 比如home的图片
- 但是我2张图拼接在一起，就会出现

为啥mask在真机中无效？

- 我明明设置了只显示一部分

mask组件如何调整大小？

为啥不会出现黑边？

- 我都设置成高小于宽了，还是不会有黑边



## 消消乐

可行性分析

- 问一下平哥他们，能不能做，因为以我目前的能力可能会卡死
- 还有推荐做哪个项目，出点选择题让他们在做



#### 游戏策划

玩法

- 玩家通过交换相邻的两个棋子，形成三个或以上相同棋子的直线排列，实现消除并获得分数

特色

- 丰富的关卡设计：包含多种不同的关卡，每个关卡都有独特的设计和挑战。
- 多样的道具和特殊棋子：如炸弹、变色龙、锁定棋子等，增加游戏的策略性和趣味性。
- 社交功能：玩家可以与朋友竞争，分享成绩，参与排行榜。



#### 开发计划

第1天：项目搭建和核心机制实现
目标：完成项目搭建，实现棋子生成和交换逻辑。

- [x] 设计游戏玩法和界面布局。
- [x] 在Cocos Creator中创建新项目。
- [x] 导入美术资源，包括棋子、背景图等。
- [x] 创建棋子预制体，并实现棋子的网格布局。就是先把棋盘做出来
- [ ] 实现棋子的点击和交换逻辑。

第2天：匹配和消除逻辑
目标：完成匹配消除逻辑，实现游戏的核心玩法。

- [ ] 编写匹配算法，检测玩家交换棋子后的匹配情况。

- [ ] 实现消除动画和音效。
- [ ] 处理消除后的空位，实现棋子下落和新棋子生成。
- [ ] 测试游戏玩法，确保匹配和消除功能正常工作。

第3天：UI完善和游戏调试
目标：完善游戏UI，进行游戏调试和优化。

- [ ] 添加得分和等级系统。
- [ ] 实现游戏UI，包括得分板、游戏状态指示等。
- [ ] 进行游戏测试，修复发现的问题。
- [ ] 调整游戏难度和玩家体验。
- [ ] 添加背景音乐和音效。



#### bug

时序问题

- 不要老是写那么多异步代码
- 不要写定时器，尤其是后面可能要用到的变量

数据紊乱问题

- 怎么排查

测试问题

- 防止一直改，原地打转啊



#### 实施

核心的实现

- [x] 生成棋盘
- [x] 选中
- [x] 交换
  - 交换一定会发生，不管有没有匹配成功！
  - 先无脑交换一下，后面再补一下交换的判断，还有交换的动画
  - 为啥要更新棋子的存储位置，存储数组的位置只决定你按index取得元素对不对！
  - 交换动画
  - 交换失败要由回退的动画
- [x] 匹配
  - 不只是要根据当前的选中的元素去匹配，还要根据被交换的元素去匹配
  - 暂时不做下落后自动匹配

- [ ] 消除
- [ ] 下落
- [ ] 补充
- [ ] 计分



页面设计

- 就一个game页面，



音效，音乐一般是项目最后加的

初始数据

- 格子大小：90x90
- 左上角的坐标：-230,230
- 格子间隔：就是100左右，其实就是两个格子中心点的距离
  - 所以第i,j个坐标的元素x坐标是-230+ix100,230-jx100



有2套坐标

- index》row、col
  - 可以根据这个坐标获取真实坐标
- position》x、y



把某个点的世界坐标转换成本地坐标

- 要拿到转换组件，然后用uiTransform.convertToNodeSpaceAR(v3(pos.x,pos.y))
  - 转换成这个节点的相对坐标

画布原点在正中心

而存储的原点则是在



世界坐标系与ui坐标系区别

- 前者不会考虑缩放影响
- 后者会

类什么情况下需要继承组件？

- 需要使用到生命周期的一些东西

组件实例化

- 要么挂载到节点上，自动实例化，一个组件可以挂载多个不同的脚本组件
  - 比如car可以挂载Car,Controller这几个
- 要么通过new

事件监听

- 

为啥在node和input都编写事件监听

- 结果就是只有node的触发了，input对象的没触发

同一节点的脚本组件之间的通信

- 通过获取公共属性
  - 比如this.node.position
- 通过事件系统
  - this.node.on("touchMove")
  - this.node.emit("touchMove")
  - this.node.off("touchMove")

- 

索引与坐标得区别

- 索引是先行后列的，如row,col
- 而坐标是先列后行的，如x,y

移除节点

- 通过引用：removeChild(arr[0])
- 通过名称：

什么时候需要把函数定义为参数？

- 这个函数是希望开放给用户的
- 或需要某个操作完成后才执行这个函数，而且用户自定义的

棋子每个都有bom，但是bom动画是一致的，难道都要在预制体挂载1次，不对吧

- 解决方案：现在可以把动画作为预制体，然后作为节点，动态的挂载到制定的节点下

我之前以为必须要新做一个动画组件才能播放动画

- 动画资源本身可以作为预制体

要学会画图，不然你没法分析问题

- 比如匹配算法

**下坠**

- 

计数你要注意是从0开始还是从1开始

- 如果要取加完后的值，则是以0开始后，比如0加完1就是1了，是准确的

typora有没有折叠功能的

- 这样就不用老是上下移动了

无法选中了

- 

想要在动画播放完之后执行一些动作

- 可以监听事件：ani.on(Animation.EventType.FINISHED,func)
  - 它不支持在构造的时候传入回调函数
- 

回调函数

- 参数的值你要传进去，而不是

计分一般是以个数或者是触发效果为准

- 

怎么判定是首次即匹配失败？

- 第一层就是匹配的结果，你只需要返回第一层结果即可



## 贪吃蛇

主要玩法

- 通过摇杆控制移动
- 吃食物来升级
- 死亡
  - 撞墙
  - 咬到自己身体或者是咬到别的蛇
- 升级后移动速度增加，挑战提高



#### 核心实现

移动



#### 开发计划

第1天：

- [ ] 需求分析与设计（1小时）

- [ ] 确定游戏的基本规则和功能。
  设计游戏的界面和元素（蛇、食物、分数板）。
  环境搭建与准备工作（1小时）

- [ ] 安装和配置Cocos Creator。
  创建新项目并熟悉环境。
  贪吃蛇主体开发（4小时）

- [ ] 创建蛇的模型和动画。
  编写蛇的移动逻辑。
  食物生成逻辑（2小时）
- [ ] 设计食物的模型。
  编写食物随机生成的逻辑。
  碰撞检测（2小时）
- [ ] 编写蛇头与食物的碰撞检测逻辑。
  编写蛇头与自身碰撞的检测逻辑。
  得分与游戏结束逻辑（2小时）

- [ ] 设计得分系统。
  编写游戏结束的条件和逻辑。



第2天：

- [ ] 界面开发（3小时）

- [ ] 设计和实现游戏的开始界面、游戏结束界面。
  添加开始游戏和重启游戏的按钮和相应逻辑。
  功能完善与调试（4小时）

- [ ] 完善蛇的移动和生长逻辑。
  调试碰撞检测和得分系统。
  优化与调整（2小时）

- [ ] 调整游戏难度和平衡性。
  优化性能和用户体验。
  测试（2小时）

- [ ] 进行多轮游戏测试，确保没有明显bug。
  调整游戏中的细节问题。
  打包与发布（1小时）

- [ ] 学习Cocos Creator的打包和发布流程。
  将游戏打包并发布到一个平台进行测试。
  总结与计划（1小时）

- [ ] 总结开发过程中遇到的问题和解决方案。
  规划后续的更新和改进计划。
